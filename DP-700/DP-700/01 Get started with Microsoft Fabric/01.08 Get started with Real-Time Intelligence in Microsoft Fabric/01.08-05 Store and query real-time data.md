
_Eventhouses_ คือสถานที่จัดเก็บข้อมูล _real-time_ ซึ่งมักถูกโหลดเข้ามาจาก _eventstream_ และเก็บไว้ใน _tables_ เพื่อการประมวลผลและวิเคราะห์ต่อไป

![Screenshot of an eventhouse in Microsoft Fabric.](https://learn.microsoft.com/en-us/training/wwl/get-started-kusto-fabric/media/eventhouse.png)

ภายใน _eventhouse_ คุณสามารถสร้าง:

- **KQL databases**: ฐานข้อมูลที่ออกแบบมาสำหรับ _real-time_ โดยรองรับการจัดเก็บ _tables_, _stored functions_, _materialized views_, และ _shortcuts_
- **KQL querysets**: กลุ่มของคำสั่ง _KQL queries_ ที่ใช้ในการสืบค้นข้อมูลจาก _KQL databases_ ซึ่งรองรับการเขียนด้วย _Kusto Query Language (KQL)_ และบางส่วนของภาษา _Transact-SQL_

## Querying data

คุณสามารถใช้ **_Kusto Query Language (KQL)_** เพื่อสืบค้นข้อมูลจาก _table_ ใน _KQL database_ ซึ่งเป็นภาษาที่ใช้ใน _Azure Data Explorer_, _Azure Monitor Log Analytics_, _Microsoft Sentinel_, และ _Microsoft Fabric_ โดย _KQL_ เป็นคำขอแบบอ่านอย่างเดียวที่ใช้ประมวลผลข้อมูลและส่งผลลัพธ์กลับมา ประกอบด้วยคำสั่งหนึ่งคำสั่งหรือมากกว่านั้น

### KQL query statements

คำสั่ง _KQL_ จะเริ่มต้นด้วยชื่อ _table_ ตามด้วย _operator_ หนึ่งตัวหรือมากกว่า เช่น `take`, `filter`, `transform`, `aggregate`, หรือ `join` ตัวอย่างคำสั่งด้านล่างแสดงการดึงข้อมูล 10 แถวจาก _table_ ที่ชื่อว่า **stock**:

```kql
stock
| take 10
````

ตัวอย่างที่ซับซ้อนขึ้นจะแสดงค่าเฉลี่ยของราคาหุ้นตามแต่ละสัญลักษณ์ภายในช่วงเวลา 5 นาทีล่าสุด:

```
stock
| where ["time"] > ago(5m)
| summarize avgPrice = avg(todecimal(bidPrice)) by symbol
| project symbol, avgPrice
```

_Tip_
ศึกษารายละเอียดเพิ่มเติมเกี่ยวกับ _KQL_ ได้ที่ [**Kusto Query Language (KQL) overview**](https://learn.microsoft.com/en-us/kusto/query/)

### **Using SQL**

แม้ว่า _KQL_ จะเหมาะกับการสืบค้นข้อมูลจำนวนมากโดยเฉพาะที่มีลักษณะเชิงเวลา (_time-based_) แต่เนื่องจากผู้ใช้งานหลายคนคุ้นเคยกับ _SQL_ ระบบ _KQL databases_ ใน _eventhouses_ จึงรองรับคำสั่ง _SQL_ ทั่วไปบางส่วนด้วย

ตัวอย่างเช่น คำสั่ง _SQL_ ที่ให้ผลลัพธ์เหมือน take 10 ใน _KQL_ คือ:

```
SELECT TOP 10 * FROM stock;
```

### **Using Copilot to help with queries**

_Microsoft Fabric_ มี _Copilot_ สำหรับ _Real-Time Intelligence_ ที่ช่วยเขียนคำสั่งสืบค้นข้อมูล (_queries_) ที่คุณต้องการ โดย _Copilot_ ใช้ AI เพื่อเข้าใจข้อมูลที่คุณต้องการค้นหาและสร้างโค้ดให้โดยอัตโนมัติ

_Tip_
ศึกษาข้อมูลเพิ่มเติมเกี่ยวกับ _Copilot for Real-Time Intelligence_ ได้ที่ [**Copilot for Real-Time Intelligence**](https://learn.microsoft.com/en-us/fabric/get-started/copilot-real-time-intelligence)

