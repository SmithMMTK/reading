
การจัดการวงจรชีวิต (_Lifecycle management_) คือกระบวนการในการติดตามและควบคุมแต่ละขั้นตอนของกระบวนการพัฒนา รายงานใน _Power BI_ ประกอบด้วยการสร้าง _assets_ ที่สามารถนำกลับมาใช้ซ้ำได้ และการตัดสินใจว่าจะจัดการกับการเปลี่ยนแปลงใน _semantic models_ และ _reports_ อย่างไร

ไฟล์ _Power BI_ แบบดั้งเดิมนามสกุล `.pbix` จะเก็บทั้ง _semantic model_ และ _report_ ไว้ในไฟล์ไบนารีเพียงไฟล์เดียว ซึ่งไม่สามารถติดตามการเปลี่ยนแปลงในระดับย่อยได้ด้วยระบบ _source control_ แต่ไฟล์ _Power BI Project_ สามารถใช้ร่วมกับ _code editors_ และระบบ _source control_ เพื่อควบคุมเวอร์ชันและจัดการการปรับใช้เป็นส่วนหนึ่งของระบบ _CI/CD (Continuous Integration / Continuous Delivery)_

## Create a Power BI Project file

ไฟล์ _Power BI Project_ จะเก็บ _semantic model_ และ _report_ แยกกันเป็นไฟล์ _plain text_ เพื่อให้สามารถใช้งานร่วมกับ _code editor_ และ _source control solutions_ ได้

- **Text editor support**: ไฟล์กำหนดองค์ประกอบ (_item definition_) เป็นไฟล์ _JSON_ ที่เก็บข้อมูลเมตาของ _semantic model_ และ _report_
- **Source control**: คำจำกัดความของ _semantic model_ และ _report_ สามารถจัดเก็บในระบบควบคุมเวอร์ชัน เช่น _Git_

เมื่อคุณบันทึกงานเป็นไฟล์ `.pbip` โครงสร้างไฟล์จะถูกจัดเก็บในรูปแบบโฟลเดอร์ที่เรียบง่ายและเข้าใจได้

![Screenshot of a Power BI Project file showing the file location, report folder and name, and semantic model folder and name.](https://learn.microsoft.com/en-us/training/wwl-data-ai/create-manage-power-bi-assets/media/project-structure-flyout.png)

## Power BI Project structure

เมื่อสร้าง _Power BI Project_ ข้อมูลทั้งหมดจะถูกเก็บเป็นไฟล์แบบเรียบ (_flat files_) โดยมีโฟลเดอร์แยกสำหรับ:

- โฟลเดอร์ **semantic model**: เก็บข้อมูลทั้งหมดใน _semantic model_ เช่น _relationships_, _measures_, และ _transformations_
- โฟลเดอร์ **report**: เก็บข้อมูล _visuals_ และหน้ารายงาน รวมถึง _custom visuals_ และ _mobile layout_

โปรเจกต์ที่มีอยู่จะใช้ _TMSL (Tabular Model Scripting Language)_ โดยเก็บข้อมูลทั้งหมดในไฟล์ `model.bim` หากคุณเปิดใช้งานฟีเจอร์ _preview_ คุณสามารถอัปเกรดเป็น _TMDL (Tabular Model Definition Language)_ เพื่อเก็บข้อมูลเป็นไฟล์แยกได้

![Screenshot of the differences in the PBIP folder structure with TMSL and TMDL options.](https://learn.microsoft.com/en-us/training/wwl-data-ai/create-manage-power-bi-assets/media/pbip-tmsl-vs-tmdl.png)

ภาพต่อไปนี้แสดงโฟลเดอร์ `definition` ที่อยู่ในโฟลเดอร์ของ _report_ สำหรับฟอร์แมต _Enhanced .pbir (Power BI Report)_

![Screenshot of the definition folder inside a report .pbip folder.](https://learn.microsoft.com/en-us/training/wwl-data-ai/create-manage-power-bi-assets/media/report-definition-file.png)

> **Note**  
> ดูรายละเอียดเพิ่มเติมได้ที่ [Power BI Desktop projects (PREVIEW)](https://learn.microsoft.com/en-us/power-bi/developer/projects/projects-overview)

## Track and manage with Projects

ไฟล์ `.pbix` เป็นไฟล์ไบนารี ซึ่งไม่สามารถดูการเปลี่ยนแปลงผ่าน _code editor_ ได้โดยตรง หากมีการเปลี่ยนแปลงในไฟล์ คุณจะไม่ทราบว่าเกิดขึ้นใน _semantic model_ หรือ _visuals_ หากไม่เปิดดูทั้งหมด

ในทางกลับกัน หากคุณใช้ไฟล์ `.pbip` คุณสามารถพัฒนางานใน _Power BI Desktop_ ต่อไป พร้อมมีประวัติการเปลี่ยนแปลงที่สามารถตรวจสอบได้ ตัวอย่างเช่น หากทีมของคุณเก็บไฟล์ Power BI ไว้ใน _OneDrive_ เพื่อควบคุมเวอร์ชัน และมีรายงานประจำภูมิภาคแสดงค่าผิด คุณอาจต้องเปิดดูไฟล์เก่าหลายไฟล์เพื่อเปรียบเทียบ

หากใช้ _Power BI Project_ ร่วมกับ _Git_ คุณสามารถดูการเปลี่ยนแปลงย้อนหลังจาก _pull request_ ได้ทันที เช่น ค่าจำนวนในสูตรจาก 6 ถูกเปลี่ยนเป็น 7 โดยไม่ตั้งใจ คุณสามารถระบุความแตกต่างและแก้ไขได้อย่างรวดเร็ว

![Screenshot of a TMDL file with difference identified in the measure formula.](https://learn.microsoft.com/en-us/training/wwl-data-ai/create-manage-power-bi-assets/media/vs-code-diff.png)

## Continuous Integration and Continuous Delivery (CI/CD)

หลายองค์กรใช้ระบบ _CI/CD_ เพื่อเสนอและตรวจสอบการเปลี่ยนแปลงก่อนนำขึ้นใช้งานจริง โดยทั่วไปจะมีขั้นตอนต่าง ๆ ตั้งแต่ _Development_ ไปยัง _Test_ ก่อนนำไปยัง _Production_

ใน _Power BI service_ คุณสามารถใช้ _Deployment pipelines_ เพื่อสร้าง _workspace_ ให้ตรงกับแต่ละขั้นตอน และเมื่อมีการเปลี่ยนแปลงใน _Development_ คุณสามารถดูความแตกต่างกับ _Test_ ก่อนนำขึ้นใช้งานจริง

![Screenshot of a Deployment pipeline with differences between Development and Test workspaces.](https://learn.microsoft.com/en-us/training/wwl-data-ai/create-manage-power-bi-assets/media/deployment-pipelines-diff.png)

> **Note**  
> _Deployment pipelines_ ต้องใช้ _workspace_ ที่อยู่บน _Premium_ หรือ _Fabric capacity_ และสามารถใช้ติดตามความแตกต่างของ _Fabric items_ อื่น ๆ ได้เช่นกัน

ระบบ _CI/CD_ ยังใช้ _source control_ เพื่อจัดการเวอร์ชันร่วมด้วย การควบคุมเวอร์ชันของไฟล์ _Power BI Project_ สามารถทำได้ผ่าน _Git integration_ ซึ่งช่วยให้:

- สำรองและจัดเก็บเวอร์ชันของงาน
- ย้อนกลับไปยังสถานะก่อนหน้า
- ทำงานร่วมกับผู้อื่นผ่าน _Git branches_
- ใช้เครื่องมือควบคุมเวอร์ชันที่คุ้นเคย เช่น _Azure DevOps_

ตัวอย่างภาพต่อไปแสดง _Azure DevOps repo_ ที่เก็บไฟล์ _Power BI Project_ นักพัฒนาสามารถ _clone_ ไปยังเครื่องตนเอง, สร้าง _branch_, และ _pull request_ เพื่อรวมกลับเข้า _main_ ได้อย่างปลอดภัย

![Screenshot of a repository in Azure DevOps with a Power BI Project.](https://learn.microsoft.com/en-us/training/wwl-data-ai/create-manage-power-bi-assets/media/azure-devops-repo.png)

### Considerations

หน่วยนี้ให้ภาพรวมของสิ่งที่สามารถทำได้ด้วย _Power BI Projects_ รวมถึงการรวมเข้ากับ _Git_ และ _Deployment pipelines_ ซึ่งคุณสามารถนำไปประยุกต์ให้ตรงกับความต้องการขององค์กรได้

> **Tip**  
> ดูเพิ่มเติมได้จาก [Introduction to the CI/CD process as part of the ALM cycle in Microsoft Fabric](https://learn.microsoft.com/en-us/fabric/cicd/cicd-overview)

---

## Next unit: Use lineage view and endorse data assets
