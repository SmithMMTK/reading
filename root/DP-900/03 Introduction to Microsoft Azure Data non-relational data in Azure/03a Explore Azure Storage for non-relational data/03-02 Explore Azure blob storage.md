
_Azure Blob Storage_ เป็นบริการที่ช่วยให้คุณสามารถเก็บข้อมูลขนาดใหญ่แบบไม่มีโครงสร้าง (_unstructured data_) ได้ในรูปแบบของ _blob_ ซึ่งหมายถึง binary large objects ที่เก็บอยู่บนคลาวด์ การเก็บข้อมูลด้วย _blob_ เป็นวิธีที่มีประสิทธิภาพสำหรับไฟล์ข้อมูลขนาดใหญ่ โดยสามารถเขียนและอ่านได้ผ่าน _Azure Blob Storage API_

![Screenshot of an Azure blob storage container with two blobs.](https://learn.microsoft.com/en-us/training/wwl-data-ai/explore-provision-deploy-non-relational-data-services-azure/media/azure-blob-storage.png)

ภายใน _Azure storage account_ คุณจะเก็บ _blobs_ ไว้ใน _containers_ ซึ่งเปรียบเสมือนโฟลเดอร์ที่รวม _blobs_ ที่เกี่ยวข้องกันไว้ด้วยกัน คุณสามารถควบคุมสิทธิ์การเข้าถึงของผู้ใช้ได้ในระดับ _container_

ภายใน _container_ คุณสามารถจัดระเบียบ _blobs_ ให้เป็นลำดับชั้นเหมือนโฟลเดอร์บนดิสก์ โดยใช้เครื่องหมาย "/" เป็นตัวแบ่งชื่อ _blob_ ถึงแม้จะดูเหมือนมีโฟลเดอร์จริง แต่โฟลเดอร์เหล่านี้เป็นแค่โฟลเดอร์เสมือน (_virtual folders_) ที่ไม่สามารถควบคุมสิทธิ์หรือจัดการแบบกลุ่มได้จริง

_Azure Blob Storage_ รองรับ _blob_ ได้ 3 ประเภทหลัก ๆ:

- _Block blobs_ เป็นรูปแบบที่จัดการข้อมูลเป็นชุดของ _blocks_ โดยแต่ละ block มีขนาดได้สูงสุด 4000 MiB และรวมกันได้มากสุดถึง 50,000 blocks ทำให้ _block blob_ หนึ่งสามารถมีขนาดรวมได้ถึงประมาณ 190.7 TiB (_มากกว่า 5000 MiB_) หน่วยย่อยที่สุดที่สามารถอ่านหรือเขียนได้คือ block เหมาะสำหรับเก็บไฟล์ขนาดใหญ่แบบแยกชิ้น (_discrete large binary objects_) ที่ไม่ค่อยเปลี่ยนแปลง
- _Page blobs_ จะถูกจัดเก็บในรูปแบบของ _pages_ ขนาดคงที่ 512 ไบต์ เหมาะกับการอ่าน/เขียนแบบสุ่ม (_random access_) เช่น อ่านหรืออัปเดตเฉพาะบาง page ได้เลย _page blob_ รองรับขนาดสูงสุดถึง 8 TB และมักถูกใช้โดย Azure เพื่อเป็นที่เก็บข้อมูลของ _virtual machines_
- _Append blobs_ คือ _block blob_ ที่ออกแบบมาเพื่อรองรับการเขียนแบบต่อท้าย (_append only_) เท่านั้น ไม่สามารถลบหรืออัปเดต block ที่มีอยู่ได้ ขนาดของแต่ละ block ได้สูงสุด 4 MB และขนาดรวมของ _append blob_ จะได้ประมาณ 195 GB เหมาะกับงานที่ต้องบันทึกข้อมูลแบบต่อเนื่อง เช่น log file

_blob storage_ มี _access tier_ ให้เลือก 3 ระดับ เพื่อช่วยปรับสมดุลระหว่าง _latency_ และ _storage cost_:

- _Hot tier_ เป็นค่าตั้งต้น เหมาะกับ _blob_ ที่ถูกเข้าถึงบ่อย ข้อมูลจะถูกเก็บไว้ในอุปกรณ์ที่มี _performance_ สูง ทำให้สามารถเข้าถึงข้อมูลได้รวดเร็วมาก
- _Cool tier_ มี _performance_ ต่ำกว่าและค่าใช้จ่ายในการจัดเก็บถูกกว่า _Hot tier_ เหมาะกับข้อมูลที่เข้าถึงไม่บ่อย ตัวอย่างเช่น ไฟล์ที่พึ่งสร้างใหม่อาจถูกใช้งานบ่อยช่วงแรก แต่จะลดลงเมื่อเวลาผ่านไป ในกรณีนี้สามารถสร้าง _blob_ ใน _Hot tier_ แล้วค่อยย้ายไป _Cool tier_ ได้ตามความเหมาะสม และสามารถย้ายกลับมาที่ _Hot tier_ ได้เช่นกัน
- _Archive tier_ เป็นระดับที่มีค่าเก็บข้อมูลถูกที่สุด แต่ใช้เวลาในการเข้าถึงข้อมูลนานขึ้นมาก (_latency_ สูง) เหมาะสำหรับข้อมูลที่ต้องเก็บระยะยาว เช่น ข้อมูลประวัติที่ไม่ควรสูญหาย แต่ไม่ถูกใช้งานบ่อย โดย _blob_ ใน _Archive tier_ จะถูกเก็บในสถานะออฟไลน์ (_offline state_) ซึ่งต้องทำการเปลี่ยนระดับกลับไปที่ _Hot_ หรือ _Cool_ เพื่อเริ่มกระบวนการ _rehydration_ และสามารถอ่านได้เมื่อกระบวนการนี้เสร็จสมบูรณ์ ซึ่งอาจใช้เวลาหลายชั่วโมง

คุณสามารถสร้าง _lifecycle management policies_ สำหรับ _blobs_ ใน _storage account_ ได้ ซึ่งนโยบายนี้จะช่วยให้ระบบสามารถย้าย _blob_ จาก _Hot_ → _Cool_ → _Archive tier_ ได้โดยอัตโนมัติเมื่อข้อมูลมีอายุมากขึ้นและถูกใช้งานน้อยลง (_policy_ จะอิงตามจำนวนวันที่ผ่านไปนับจากการแก้ไขครั้งล่าสุด)

นอกจากนี้ _lifecycle policy_ ยังสามารถตั้งค่าให้ลบ _blobs_ ที่ล้าสมัย (_outdated blobs_) ได้เช่นกัน ช่วยลดค่าใช้จ่ายและเพิ่มความคล่องตัวในการจัดการข้อมูลแบบ _non-relational_ บน _Azure Blob Storage_